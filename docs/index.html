<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aid Islam Super App</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1b5e20; --bg: #f4f7f4; --white: #ffffff; }
        body { font-family: 'Hind Siliguri', sans-serif; margin: 0; display: flex; background: var(--bg); height: 100vh; overflow: hidden; }

        /* Sidebar */
        .sidebar { width: 260px; background: var(--white); border-right: 1px solid #ddd; overflow-y: auto; display: flex; flex-direction: column; }
        .sidebar-header { padding: 25px; background: var(--primary); color: white; text-align: center; font-size: 22px; font-weight: bold; position: sticky; top: 0; }
        .menu-item { padding: 15px 20px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: 0.3s; color: #333; display: flex; align-items: center; }
        .menu-item:hover { background: #e8f5e9; color: var(--primary); }
        .menu-item.active { background: #e8f5e9; color: var(--primary); border-left: 5px solid var(--primary); font-weight: bold; }

        /* Content Area */
        .content { flex: 1; padding: 30px; overflow-y: auto; position: relative; }
        .card { background: var(--white); padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); min-height: 400px; }
        h2 { color: var(--primary); margin-top: 0; border-bottom: 2px solid #e8f5e9; padding-bottom: 10px; }

        /* Prayer Grid */
        .p-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 15px; margin-top: 20px; }
        .p-card { background: #f9f9f9; padding: 15px; border-radius: 10px; text-align: center; border: 1px solid #eee; }

        /* Loading Spinner */
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        @media (max-width: 768px) {
            body { flex-direction: column; }
            .sidebar { width: 100%; height: 200px; border-bottom: 2px solid var(--primary); }
            .content { padding: 15px; }
        }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="sidebar-header">Aid Islam</div>
    <div class="menu-item active" onclick="loadPage('Dashboard', this)">üè† Dashboard</div>
    <div class="menu-item" onclick="loadPage('Quran', this)">üìñ Quran</div>
    <div class="menu-item" onclick="loadPage('Hadith', this)">üìö Hadith</div>
    <div class="menu-item" onclick="loadPage('Prayer Times', this)">üïí Prayer Times</div>
    <div class="menu-item" onclick="loadPage('Tasbih', this)">üìø Tasbih</div>
    <div class="menu-item" onclick="loadPage('Qibla', this)">üß≠ Qibla Direction</div>
    <div class="menu-item" onclick="loadPage('Calendar', this)">üìÖ Calendar</div>
    <div class="menu-item" onclick="loadPage('Names of Allah', this)">üïã Names of Allah</div>
    <div class="menu-item" onclick="loadPage('AI Guidance', this)">ü§ñ AI Guidance</div>
</div>

<div class="content">
    <div class="card" id="main-display">
        </div>
</div>

<script>
    // ‡ßß. ‡¶Æ‡ßá‡¶á‡¶® ‡¶∞‡¶æ‡¶â‡¶ü‡¶ø‡¶Ç ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶™‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®)
    function loadPage(pageName, element) {
        // ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
        document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('active'));
        element.classList.add('active');

        const display = document.getElementById('main-display');
        display.innerHTML = `<h2>${pageName}</h2><div class="loader"></div>`;

        // ‡¶™‡ßá‡¶ú ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶∏‡ßÅ‡¶á‡¶ö
        setTimeout(() => {
            switch(pageName) {
                case 'Dashboard': renderDashboard(); break;
                case 'Prayer Times': renderPrayerTimes(); break;
                case 'Hadith': renderHadithLibrary(); break;
                case 'Quran': display.innerHTML += "<p>‡¶Ü‡¶≤-‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶® ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ü‡¶∏‡¶õ‡ßá (‡¶è‡¶™‡¶ø‡¶Ü‡¶á ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü ‡¶π‡¶ö‡ßç‡¶õ‡ßá...)</p>"; break;
                case 'Tasbih': renderTasbih(); break;
                default: display.innerHTML += `<p>${pageName} ‡¶∏‡ßá‡¶ï‡¶∂‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ö‡¶≤‡¶õ‡ßá...</p>`;
            }
        }, 500);
    }

    // ‡ß®. ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞
    function renderDashboard() {
        const now = new Date();
        document.getElementById('main-display').innerHTML = `
            <h2>üè† ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
            <div style="text-align:center; padding: 20px;">
                <h1 style="font-size: 50px; color: var(--primary); margin:0;">${now.toLocaleTimeString('bn-BD')}</h1>
                <p style="font-size: 20px; color: #666;">${new Intl.DateTimeFormat('bn-BD-u-ca-bengali', {day:'numeric', month:'long', year:'numeric'}).format(now)}</p>
                <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin-top: 20px;">
                    <strong>‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¨‡¶æ‡¶£‡ßÄ:</strong><br>
                    "‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡ßü‡¶á ‡¶ï‡¶∑‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá‡¶á ‡¶∏‡ßç‡¶¨‡¶∏‡ßç‡¶§‡¶ø ‡¶∞‡ßü‡ßá‡¶õ‡ßá‡•§" (‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶á‡¶®‡¶∂‡¶ø‡¶∞‡¶æ‡¶π)
                </div>
            </div>
        `;
    }

    // ‡ß©. ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü (GPS Based)
    async function renderPrayerTimes() {
        const display = document.getElementById('main-display');
        navigator.geolocation.getCurrentPosition(async (pos) => {
            const res = await fetch(`https://api.aladhan.com/v1/timings?latitude=${pos.coords.latitude}&longitude=${pos.coords.longitude}&method=2`);
            const data = await res.json();
            const t = data.data.timings;
            
            display.innerHTML = `
                <h2>üïí ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü‡¶∏‡ßÇ‡¶ö‡ßÄ</h2>
                <p>üìç ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®: ${data.data.meta.timezone}</p>
                <div class="p-grid">
                    <div class="p-card"><b>‡¶´‡¶ú‡¶∞</b><br>${t.Fajr}</div>
                    <div class="p-card"><b>‡¶Ø‡ßã‡¶π‡¶∞</b><br>${t.Dhuhr}</div>
                    <div class="p-card"><b>‡¶Ü‡¶∏‡¶∞</b><br>${t.Asr}</div>
                    <div class="p-card"><b>‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨</b><br>${t.Maghrib}</div>
                    <div class="p-card"><b>‡¶è‡¶∂‡¶æ</b><br>${t.Isha}</div>
                </div>
            `;
        });
    }

    // ‡ß™. ‡¶§‡¶∏‡¶¨‡¶ø‡¶π ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞
    let count = 0;
    function renderTasbih() {
        document.getElementById('main-display').innerHTML = `
            <h2>üìø ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶§‡¶∏‡¶¨‡¶ø‡¶π</h2>
            <div style="text-align:center;">
                <div id="counter" style="font-size: 80px; margin: 20px;">0</div>
                <button onclick="updateCount()" style="padding: 20px 40px; font-size: 20px; background: var(--primary); color: white; border: none; border-radius: 10px; cursor: pointer;">‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                <button onclick="count=0; document.getElementById('counter').innerText=0" style="margin-left: 10px; padding: 10px; cursor:pointer;">Reset</button>
            </div>
        `;
    }
    window.updateCount = () => { count++; document.getElementById('counter').innerText = count; }

    // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶≤‡ßã‡¶°
    renderDashboard();
</script>

</body>
</html>
